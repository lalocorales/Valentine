
<div class="page">
    <div class="card">
        <h1>Eduardo wants you to be his Valentine 💘</h1>
        <p class="subtitle">Pame, this question was handcrafted by Lalonchera.</p>
        <p class="subtitle">Choose wisely… the universe is watching.</p>

        <div class="arena" id="arena">
            <button class="btn yes" id="btnYes" type="button">Yes ✅</button>
            <button class="btn no" id="btnNo" type="button">No 🙃</button>
        </div>

        <p class="ps">P.S. “No” seems very shy.</p>

        <div class="result" id="result" aria-live="polite"></div>

        <!-- Audio (must be under wwwroot/music/yoshi-story.mp3) -->
        <audio id="valSong" preload="auto">
            <source src="/yoshi-story.mp3" type="audio/mpeg" />
        </audio>
    </div>
</div>

<style>
    :root {
        --bg1: #0f1020;
        --bg2: #1b1d3a;
        --card: #15162b;
        --text: #f7f7ff;
        --muted: #c6c6dd;
        --yes: #22c55e;
        --no: #ef4444;
        --ring: rgba(255,255,255,.18);
    }

    * {
        box-sizing: border-box;
    }

    body {
        margin: 0;
        font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
        color: var(--text);
    }

    .page {
        min-height: 100vh;
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 24px;
        background: radial-gradient(1200px 600px at 20% 10%, #ff4d6d33, transparent 55%), radial-gradient(900px 500px at 80% 30%, #7c3aed2b, transparent 50%), linear-gradient(180deg, var(--bg1), var(--bg2));
    }

    .card {
        width: min(720px, 95vw);
        background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03));
        border: 1px solid rgba(255,255,255,.10);
        border-radius: 22px;
        padding: 28px;
        box-shadow: 0 20px 60px rgba(0,0,0,.35);
        backdrop-filter: blur(10px);
    }

    h1 {
        margin: 0 0 8px 0;
        font-size: clamp(28px, 4vw, 44px);
        letter-spacing: .2px;
    }

    .subtitle {
        margin: 0 0 18px 0;
        color: var(--muted);
    }

    .arena {
        position: relative;
        height: 240px;
        border-radius: 18px;
        border: 1px dashed rgba(255,255,255,.18);
        background: rgba(0,0,0,.18);
        overflow: hidden;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 14px;
    }

    .btn {
        border: 0;
        cursor: pointer;
        border-radius: 14px;
        padding: 14px 18px;
        font-size: 18px;
        font-weight: 700;
        color: white;
        box-shadow: 0 10px 25px rgba(0,0,0,.25);
        transition: transform .08s ease, filter .12s ease;
        outline: none;
    }

        .btn:active {
            transform: scale(.98);
        }

        .btn:hover {
            filter: brightness(1.05);
        }

    .yes {
        background: linear-gradient(180deg, #34d399, var(--yes));
    }

    .no {
        background: linear-gradient(180deg, #fb7185, var(--no));
        position: absolute;
    }

    .ps {
        margin: 14px 0 0 0;
        color: var(--muted);
        font-size: 14px;
    }

    .result {
        margin-top: 16px;
        padding: 14px 16px;
        border-radius: 14px;
        border: 1px solid rgba(255,255,255,.12);
        background: rgba(0,0,0,.18);
        min-height: 52px;
        display: flex;
        align-items: center;
        gap: 10px;
        color: #f9f9ff;
    }

    .badge {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        width: 30px;
        height: 30px;
        border-radius: 10px;
        background: rgba(255,255,255,.10);
        border: 1px solid rgba(255,255,255,.12);
    }
</style>

<script>
    (function () {
        const arena = document.getElementById("arena");
        const btnNo = document.getElementById("btnNo");
        const btnYes = document.getElementById("btnYes");
        const result = document.getElementById("result");
        const song = document.getElementById("valSong");

        // Place the "No" button somewhere inside the arena
        function moveNoButton() {
            const arenaRect = arena.getBoundingClientRect();
            const btnRect = btnNo.getBoundingClientRect();

            const padding = 12;
            const maxX = arenaRect.width - btnRect.width - padding;
            const maxY = arenaRect.height - btnRect.height - padding;

            const x = Math.max(padding, Math.floor(Math.random() * maxX));
            const y = Math.max(padding, Math.floor(Math.random() * maxY));

            btnNo.style.left = x + "px";
            btnNo.style.top = y + "px";
        }

        // Initial position
        moveNoButton();

        // The "No" button is shy: it runs away
        btnNo.addEventListener("mouseenter", moveNoButton);
        btnNo.addEventListener("mousedown", moveNoButton);
        btnNo.addEventListener("focus", moveNoButton);

        // Also if user moves mouse inside arena and gets close, it flees
        arena.addEventListener("mousemove", (e) => {
            const noRect = btnNo.getBoundingClientRect();
            const dx = e.clientX - (noRect.left + noRect.width / 2);
            const dy = e.clientY - (noRect.top + noRect.height / 2);
            const distance = Math.sqrt(dx * dx + dy * dy);

            if (distance < 90) moveNoButton();
        });

        btnYes.addEventListener("click", () => {
            result.innerHTML = `
                <span class="badge">💖</span>
                <div>
                    <div style="font-weight:800; font-size:16px;">
                        Best answer ever.
                    </div>
                    <div style="color: rgba(255,255,255,.75); margin-top:2px;">
                        Pame just said yes 💕
                        Eduardo (Lalonchera) is officially the happiest guy alive.
                    </div>
                </div>
            `;

            // Play song on Yes click (browser allows because it's a user click)
            try {
                song.currentTime = 0;
                song.volume = 0.8;
                song.play();
            } catch (e) {
                console.log("Audio blocked or failed:", e);
            }

            // Optional: make "No" stop running after success
            btnNo.removeEventListener("mouseenter", moveNoButton);
            btnNo.removeEventListener("mousedown", moveNoButton);
            btnNo.removeEventListener("focus", moveNoButton);
        });
    })();
</script>